<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.6/proj4.js"></script>
    <script>
var accidents = [{"_id":"1","YLR_CORD":"2770452.937","MREASON":"車與車","OccTime":"12月16日","IDNO":"45","XUL_CORD":"304124.8165","X":null,"YUL_CORD":"2770552.937","RDNAME":"忠孝東路 建國南路","A1A2":"4","Y":null,"XLR_CORD":"304224.6191"},{"_id":"2","YLR_CORD":"2772752.923","MREASON":"車與車","OccTime":"8月12日","IDNO":"37","XUL_CORD":"303744.8383","X":null,"YUL_CORD":"2772852.923","RDNAME":"民權東路二段 松江路","A1A2":"4","Y":null,"XLR_CORD":"303844.641"},{"_id":"3","YLR_CORD":"2769530.924","MREASON":"車與車","OccTime":"16-20","IDNO":"21","XUL_CORD":"304803.8077","X":null,"YUL_CORD":"2769630.924","RDNAME":"信義路 復興南路","A1A2":"6","Y":null,"XLR_CORD":"304903.6103"},{"_id":"4","YLR_CORD":"2771443.9","MREASON":"車與車","OccTime":"12月16日","IDNO":"46","XUL_CORD":"309881.7935","X":null,"YUL_CORD":"2771543.9","RDNAME":"忠孝東路六段 昆陽街","A1A2":"4","Y":null,"XLR_CORD":"309981.5961"},{"_id":"5","YLR_CORD":"2767988.945","MREASON":"車與車","OccTime":"8月12日","IDNO":"7","XUL_CORD":"305127.814","X":null,"YUL_CORD":"2768088.945","RDNAME":"辛亥路 基隆路","A1A2":"8","Y":null,"XLR_CORD":"305227.6167"},{"_id":"6","YLR_CORD":"2768168.948","MREASON":"車與車","OccTime":"20-24","IDNO":"17","XUL_CORD":"303201.8241","X":null,"YUL_CORD":"2768268.948","RDNAME":"師大路 羅斯福路","A1A2":"6","Y":null,"XLR_CORD":"303301.6267"},{"_id":"7","YLR_CORD":"2767646.035","MREASON":"車與車","OccTime":"16-20","IDNO":"18","XUL_CORD":"303712.0027","X":null,"YUL_CORD":"2767746.035","RDNAME":"新生南路 羅斯福路","A1A2":"6","Y":null,"XLR_CORD":"303811.8054"},{"_id":"8","YLR_CORD":"2775413.053","MREASON":"車與車","OccTime":"16-20","IDNO":"50","XUL_CORD":"301321.8657","X":null,"YUL_CORD":"2775513.053","RDNAME":"中正路 延平北路五段","A1A2":"4","Y":null,"XLR_CORD":"301421.6684"},{"_id":"9","YLR_CORD":"2771911.933","MREASON":"車與車","OccTime":"16-20","IDNO":"14","XUL_CORD":"302962.8388","X":null,"YUL_CORD":"2772011.933","RDNAME":"長春路 林森北路","A1A2":"6","Y":null,"XLR_CORD":"303062.6415"},{"_id":"10","YLR_CORD":"2773394.952","MREASON":"車與車","OccTime":"4月8日","IDNO":"31","XUL_CORD":"307199.8053","X":null,"YUL_CORD":"2773494.952","RDNAME":"塔悠路 撫遠街","A1A2":"5","Y":null,"XLR_CORD":"307299.6079"},{"_id":"11","YLR_CORD":"2768671.944","MREASON":"車與車","OccTime":"20-24","IDNO":"11","XUL_CORD":"304232.8035","X":null,"YUL_CORD":"2768771.944","RDNAME":"和平東路 建國南路","A1A2":"7","Y":null,"XLR_CORD":"304332.6061"},{"_id":"12","YLR_CORD":"2772794.921","MREASON":"車與車","OccTime":"20-24","IDNO":"26","XUL_CORD":"302235.8448","X":null,"YUL_CORD":"2772894.921","RDNAME":"民權西路 承德路","A1A2":"5","Y":null,"XLR_CORD":"302335.6475"},{"_id":"13","YLR_CORD":"2770435.94","MREASON":"車與車","OccTime":"20-24","IDNO":"20","XUL_CORD":"305332.8097","X":null,"YUL_CORD":"2770535.94","RDNAME":"忠孝東路四段 敦化南路一段","A1A2":"6","Y":null,"XLR_CORD":"305432.6124"},{"_id":"14","YLR_CORD":"2772571.311","MREASON":"車與車","OccTime":"16-20","IDNO":"48","XUL_CORD":"309606.5481","X":null,"YUL_CORD":"2772671.311","RDNAME":"成功路二段 新明路","A1A2":"4","Y":null,"XLR_CORD":"309706.3507"},{"_id":"15","YLR_CORD":"2771566.945","MREASON":"車與車","OccTime":"16-20","IDNO":"22","XUL_CORD":"305337.8154","X":null,"YUL_CORD":"2771666.945","RDNAME":"南京東路 敦化北路","A1A2":"6","Y":null,"XLR_CORD":"305437.6181"},{"_id":"16","YLR_CORD":"2771590.939","MREASON":"車與車","OccTime":"16-20","IDNO":"13","XUL_CORD":"304130.8125","X":null,"YUL_CORD":"2771690.939","RDNAME":"建國北路 南京東路","A1A2":"7","Y":null,"XLR_CORD":"304230.6152"},{"_id":"17","YLR_CORD":"2772512.92","MREASON":"車與車","OccTime":"12月16日","IDNO":"28","XUL_CORD":"303742.8186","X":null,"YUL_CORD":"2772612.92","RDNAME":"松江路 錦州街","A1A2":"5","Y":null,"XLR_CORD":"303842.6213"},{"_id":"18","YLR_CORD":"2770647.941","MREASON":"車與車","OccTime":"16-20","IDNO":"29","XUL_CORD":"307038.8082","X":null,"YUL_CORD":"2770747.941","RDNAME":"松隆路 基隆路一段","A1A2":"5","Y":null,"XLR_CORD":"307138.6108"},{"_id":"19","YLR_CORD":"2775143.551","MREASON":"車與車","OccTime":"20-24","IDNO":"9","XUL_CORD":"302954.4158","X":null,"YUL_CORD":"2775243.551","RDNAME":"中山北路五段 劍潭路","A1A2":"7","Y":null,"XLR_CORD":"303054.2184"},{"_id":"20","YLR_CORD":"2770946.902","MREASON":"車與車","OccTime":"16-20","IDNO":"49","XUL_CORD":"308796.8209","X":null,"YUL_CORD":"2771046.902","RDNAME":"玉成街 忠孝東路六段","A1A2":"4","Y":null,"XLR_CORD":"308896.6236"},{"_id":"21","YLR_CORD":"2772816.351","MREASON":"車與車","OccTime":"16-20","IDNO":"32","XUL_CORD":"301766.6161","X":null,"YUL_CORD":"2772916.351","RDNAME":"民權西路 重慶北路","A1A2":"5","Y":null,"XLR_CORD":"301866.4188"},{"_id":"22","YLR_CORD":"2769481.953","MREASON":"車與車","OccTime":"12月16日","IDNO":"2","XUL_CORD":"307297.8058","X":null,"YUL_CORD":"2769581.953","RDNAME":"松仁路 信義路五段","A1A2":"9","Y":null,"XLR_CORD":"307397.6085"},{"_id":"23","YLR_CORD":"2769733.351","MREASON":"車與車","OccTime":"8月12日","IDNO":"6","XUL_CORD":"301662.4809","X":null,"YUL_CORD":"2769833.351","RDNAME":"重慶南路 愛國西路","A1A2":"8","Y":null,"XLR_CORD":"301762.2836"},{"_id":"24","YLR_CORD":"2771549.945","MREASON":"車與車","OccTime":"20-24","IDNO":"34","XUL_CORD":"306239.8103","X":null,"YUL_CORD":"2771649.945","RDNAME":"光復北路 南京東路","A1A2":"5","Y":null,"XLR_CORD":"306339.613"},{"_id":"25","YLR_CORD":"2772789.943","MREASON":"車與車","OccTime":"16-20","IDNO":"36","XUL_CORD":"301873.8526","X":null,"YUL_CORD":"2772889.943","RDNAME":"民權西路 蘭州街","A1A2":"4","Y":null,"XLR_CORD":"301973.6553"},{"_id":"26","YLR_CORD":"2779056.885","MREASON":"車與車","OccTime":"20-24","IDNO":"33","XUL_CORD":"300519.867","X":null,"YUL_CORD":"2779156.885","RDNAME":"公館路 承德路七段","A1A2":"5","Y":null,"XLR_CORD":"300619.6696"},{"_id":"27","YLR_CORD":"2772767.926","MREASON":"車與車","OccTime":"00-04","IDNO":"1","XUL_CORD":"303164.2827","X":null,"YUL_CORD":"2772867.926","RDNAME":"民權東路 新生北路","A1A2":"9","Y":null,"XLR_CORD":"303264.0853"},{"_id":"28","YLR_CORD":"2770403.922","MREASON":"車與車","OccTime":"8月12日","IDNO":"23","XUL_CORD":"306922.5361","X":null,"YUL_CORD":"2770503.922","RDNAME":"忠孝東路五段 基隆路一段","A1A2":"5","Y":null,"XLR_CORD":"307022.3388"},{"_id":"29","YLR_CORD":"2770120.929","MREASON":"車與車","OccTime":"8月12日","IDNO":"42","XUL_CORD":"301695.8254","X":null,"YUL_CORD":"2770220.929","RDNAME":"重慶南路一段 貴陽街一段","A1A2":"4","Y":null,"XLR_CORD":"301795.6281"},{"_id":"30","YLR_CORD":"2772780.914","MREASON":"車與車","OccTime":"12月16日","IDNO":"8","XUL_CORD":"302677.8461","X":null,"YUL_CORD":"2772880.914","RDNAME":"中山北路 民權西路","A1A2":"7","Y":null,"XLR_CORD":"302777.6488"},{"_id":"31","YLR_CORD":"2772786.109","MREASON":"車與車","OccTime":"4月8日","IDNO":"38","XUL_CORD":"301513.7739","X":null,"YUL_CORD":"2772886.109","RDNAME":"民權西路 延平北路","A1A2":"4","Y":null,"XLR_CORD":"301613.5766"},{"_id":"32","YLR_CORD":"2770445.923","MREASON":"車與車","OccTime":"16-20","IDNO":"15","XUL_CORD":"304818.816","X":null,"YUL_CORD":"2770545.923","RDNAME":"忠孝東路 復興南路","A1A2":"6","Y":null,"XLR_CORD":"304918.6187"},{"_id":"33","YLR_CORD":"2777871.93","MREASON":"車與車","OccTime":"12月16日","IDNO":"47","XUL_CORD":"302919.8452","X":null,"YUL_CORD":"2777971.93","RDNAME":"中山北路六段 克強路","A1A2":"4","Y":null,"XLR_CORD":"303019.6479"},{"_id":"34","YLR_CORD":"2773426.897","MREASON":"車與車","OccTime":"16-20","IDNO":"41","XUL_CORD":"301777.815","X":null,"YUL_CORD":"2773526.897","RDNAME":"民族西路 重慶北路","A1A2":"4","Y":null,"XLR_CORD":"301877.6176"},{"_id":"35","YLR_CORD":"2772177.923","MREASON":"車與車","OccTime":"16-20","IDNO":"10","XUL_CORD":"302227.8167","X":null,"YUL_CORD":"2772277.923","RDNAME":"民生西路 承德路","A1A2":"7","Y":null,"XLR_CORD":"302327.6194"},{"_id":"36","YLR_CORD":"2772728.915","MREASON":"車與車","OccTime":"16-20","IDNO":"12","XUL_CORD":"304854.8075","X":null,"YUL_CORD":"2772828.915","RDNAME":"民權東路 復興北路","A1A2":"7","Y":null,"XLR_CORD":"304954.6102"},{"_id":"37","YLR_CORD":"2772728.915","MREASON":"車與車","OccTime":"16-20","IDNO":"43","XUL_CORD":"304854.8075","X":null,"YUL_CORD":"2772828.915","RDNAME":"民權東路三段 復興北路","A1A2":"4","Y":null,"XLR_CORD":"304954.6102"},{"_id":"38","YLR_CORD":"2770410.959","MREASON":"車與車","OccTime":"12月16日","IDNO":"16","XUL_CORD":"306617.8102","X":null,"YUL_CORD":"2770510.959","RDNAME":"忠孝東路四段 逸仙路","A1A2":"6","Y":null,"XLR_CORD":"306717.6129"},{"_id":"39","YLR_CORD":"2772741.931","MREASON":"車與車","OccTime":"16-20","IDNO":"5","XUL_CORD":"304150.8125","X":null,"YUL_CORD":"2772841.931","RDNAME":"民權東路 建國北路","A1A2":"8","Y":null,"XLR_CORD":"304250.6152"},{"_id":"40","YLR_CORD":"2776211.903","MREASON":"車與車","OccTime":"16-20","IDNO":"30","XUL_CORD":"303205.8167","X":null,"YUL_CORD":"2776311.903","RDNAME":"中山北路五段 福林路","A1A2":"5","Y":null,"XLR_CORD":"303305.6194"},{"_id":"41","YLR_CORD":"2773417.911","MREASON":"車與車","OccTime":"12月16日","IDNO":"19","XUL_CORD":"302246.8153","X":null,"YUL_CORD":"2773517.911","RDNAME":"民族西路 承德路","A1A2":"6","Y":null,"XLR_CORD":"302346.6179"},{"_id":"42","YLR_CORD":"2772234.706","MREASON":"車與車","OccTime":"20-24","IDNO":"40","XUL_CORD":"304850.4834","X":null,"YUL_CORD":"2772334.706","RDNAME":"民生東路 復興北路","A1A2":"4","Y":null,"XLR_CORD":"304950.2861"},{"_id":"43","YLR_CORD":"2770425.917","MREASON":"車與車","OccTime":"12月16日","IDNO":"44","XUL_CORD":"305898.8101","X":null,"YUL_CORD":"2770525.917","RDNAME":"延吉街 忠孝東路","A1A2":"4","Y":null,"XLR_CORD":"305998.6128"},{"_id":"44","YLR_CORD":"2768176.945","MREASON":"車與車","OccTime":"12月16日","IDNO":"27","XUL_CORD":"305322.8083","X":null,"YUL_CORD":"2768276.945","RDNAME":"基隆路 敦化南路","A1A2":"5","Y":null,"XLR_CORD":"305422.611"},{"_id":"45","YLR_CORD":"2770403.921","MREASON":"車與車","OccTime":"4月8日","IDNO":"35","XUL_CORD":"306886.8114","X":null,"YUL_CORD":"2770503.921","RDNAME":"忠孝東路四段 基隆路一段","A1A2":"5","Y":null,"XLR_CORD":"306986.6141"},{"_id":"46","YLR_CORD":"2772696.912","MREASON":"車與車","OccTime":"4月8日","IDNO":"39","XUL_CORD":"305898.8056","X":null,"YUL_CORD":"2772796.912","RDNAME":"民權東路 光復北路","A1A2":"4","Y":null,"XLR_CORD":"305998.6083"},{"_id":"47","YLR_CORD":"2764922.931","MREASON":"車與車","OccTime":"12月16日","IDNO":"25","XUL_CORD":"307601.8212","X":null,"YUL_CORD":"2765022.931","RDNAME":"木柵路四段 秀明路一段","A1A2":"5","Y":null,"XLR_CORD":"307701.6239"},{"_id":"48","YLR_CORD":"2771165.323","MREASON":"車與車","OccTime":"16-20","IDNO":"24","XUL_CORD":"303376.601","X":null,"YUL_CORD":"2771265.323","RDNAME":"長安東路 新生北路","A1A2":"5","Y":null,"XLR_CORD":"303476.4037"},{"_id":"49","YLR_CORD":"2770367.95","MREASON":"車與車","OccTime":"16-20","IDNO":"3","XUL_CORD":"308253.8026","X":null,"YUL_CORD":"2770467.95","RDNAME":"忠孝東路五段 松山路","A1A2":"8","Y":null,"XLR_CORD":"308353.6052"},{"_id":"50","YLR_CORD":"2774680.945","MREASON":"車與車","OccTime":"16-20","IDNO":"4","XUL_CORD":"305155.8065","X":null,"YUL_CORD":"2774780.945","RDNAME":"大直街 北安路","A1A2":"8","Y":null,"XLR_CORD":"305255.6092"}]
proj4.defs('TWD97', '+proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs')
var coord = proj4('TWD97').inverse([305155.8065, 2774780.945])
var map;
function initialize() {
  var mapOptions = {
    zoom: 8,
    center: new google.maps.LatLng(coord[1], coord[0])
  };
  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  accidents.map(function(a){
      var coord1 = proj4('TWD97').inverse([a['XUL_CORD'], a['YUL_CORD']])
      var coord2 = proj4('TWD97').inverse([a['XLR_CORD'], a['YLR_CORD']])
      var center = new google.maps.LatLng((coord1[1] + coord2[1]) * 0.5, (coord1[0] + coord2[0]) * 0.5)
      var populationOptions = {
          strokeColor: '#FF0000',
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: '#FF0000',
          fillOpacity: 0.35,
          map: map,
          center: center,
          radius: a['A1A2'] * 50
      };
      // Add the circle for this city to the map.
      cityCircle = new google.maps.Circle(populationOptions);
  })
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>
